---
import type { HTMLTag } from "astro/types";
import type { ClassValue } from "clsx"; // transitive dep; included by astro

interface Props {
  class?: ClassValue;
  element?: HTMLTag;
}

const { class: classVal, element = "div" } = Astro.props;

const Element = element;
---

<style>
  .TypoBox {
    /* General rules, apply to all instances of elements, wherever they appear in tree */
    ul {
      @apply list-inside list-disc ps-[1em] md:ps-[2em];
    }

    p,
    ul {
      @apply text-2xl text-green-200;
    }

    /*
        Layout rules, assume only relevant to top level of layout, that container elements
        will more often than not want to be responsible for spacing/laying out their own children
      */
    & > * {
      & + h1,
      & + h2 {
        @apply mb-[1em] mt-[1.5em];
      }

      & + * {
        @apply mt-[1em];
      }

      & + ul {
        @apply mt-[0.5em];
      }

      &:is(p, ul) {
        @apply mx-auto lg:max-w-[75%];
      }
    }
  }
</style>

<Element class:list={["TypoBox", classVal]}>
  <slot />
</Element>
